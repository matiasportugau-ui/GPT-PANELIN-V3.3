{
  "name": "batch_bom_calculate",
  "description": "Submit a background task to calculate Bill of Materials for multiple panel specifications at once. Returns a task_id that can be polled with task_status and retrieved with task_result. Ideal for projects requiring multiple panel types or zones.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "items": {
        "type": "array",
        "description": "List of panel specifications to calculate BOM for",
        "items": {
          "type": "object",
          "properties": {
            "product_family": {
              "type": "string",
              "description": "Panel family (e.g., 'ISODEC', 'ISOROOF', 'ISOPANEL', 'ISOWALL', 'ISOFRIG')"
            },
            "thickness_mm": {
              "type": "number",
              "description": "Panel thickness in mm"
            },
            "core_type": {
              "type": "string",
              "enum": ["EPS", "PIR"],
              "description": "Insulation core type"
            },
            "usage": {
              "type": "string",
              "enum": ["techo", "pared", "camara"],
              "description": "Installation type"
            },
            "length_m": {
              "type": "number",
              "description": "Panel/roof length in meters"
            },
            "width_m": {
              "type": "number",
              "description": "Panel/roof width (span/luz) in meters"
            },
            "quantity_panels": {
              "type": "integer",
              "description": "Number of panels (if known; otherwise calculated from area)"
            }
          },
          "required": ["product_family", "thickness_mm", "usage", "length_m", "width_m"]
        },
        "minItems": 1,
        "maxItems": 50
      }
    },
    "required": ["items"]
  }
}
