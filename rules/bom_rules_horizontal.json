{
  "version": "PLACEHOLDER-1.0",
  "envelope_class": "HORIZONTAL",
  "rules": [
    {
      "rule_id": "H-PANEL-AREA-001",
      "description": "Panel: cantidad = area_m2",
      "triggers": { "panel_family": "ISOROOF" },
      "items": [
        {
          "sku_id": "PLACEHOLDER_PANEL_ISOROOF_50",
          "qty_formula": "area_m2",
          "unit": "m2",
          "rounding": { "mode": "ceil", "decimals": 2 }
        }
      ],
      "required_inputs": ["area_m2", "span_m"]
    },
    {
      "rule_id": "H-ACCESSORIES-BASIC-001",
      "description": "Accesorios base HORIZONTAL (placeholder, ajustar factores)",
      "triggers": { "panel_family": "ISOROOF" },
      "items": [
        {
          "sku_id": "PLACEHOLDER_RIDGE_CAP_50",
          "qty_formula": "ridge_m",
          "unit": "ml",
          "rounding": { "mode": "ceil", "decimals": 2 }
        },
        {
          "sku_id": "PLACEHOLDER_DRIP_EDGE_50",
          "qty_formula": "drip_edge_m",
          "unit": "ml",
          "rounding": { "mode": "ceil", "decimals": 2 }
        },
        {
          "sku_id": "PLACEHOLDER_FLASHING_50",
          "qty_formula": "flashing_m",
          "unit": "ml",
          "rounding": { "mode": "ceil", "decimals": 2 }
        },
        {
          "sku_id": "PLACEHOLDER_FASTENER_PANEL",
          "qty_formula": "area_m2 * fasteners_per_m2",
          "unit": "u",
          "rounding": { "mode": "ceil", "decimals": 0 }
        },
        {
          "sku_id": "PLACEHOLDER_PVC_WASHER",
          "qty_formula": "area_m2 * pvc_washers_per_m2",
          "unit": "u",
          "rounding": { "mode": "ceil", "decimals": 0 }
        },
        {
          "sku_id": "PLACEHOLDER_SEALANT_NEUTRAL",
          "qty_formula": "sealant_units",
          "unit": "u",
          "rounding": { "mode": "ceil", "decimals": 0 }
        }
      ],
      "required_inputs": ["area_m2", "span_m", "ridge_m", "drip_edge_m", "flashing_m", "fasteners_per_m2", "pvc_washers_per_m2", "sealant_units"]
    }
  ]
}
