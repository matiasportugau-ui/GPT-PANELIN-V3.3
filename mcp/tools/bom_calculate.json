{
  "name": "bom_calculate",
  "description": "Calculate complete Bill of Materials for a panel installation. Uses parametric BOM rules from bom_rules.json. Returns: panels, fixations, accessories, quantities, subtotals.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "product_family": {
        "type": "string",
        "description": "Panel family (e.g., 'ISODEC', 'ISOROOF', 'ISOPANEL', 'ISOWALL', 'ISOFRIG')"
      },
      "thickness_mm": {
        "type": "number",
        "description": "Panel thickness in mm"
      },
      "core_type": {
        "type": "string",
        "enum": ["EPS", "PIR"],
        "description": "Insulation core type"
      },
      "usage": {
        "type": "string",
        "enum": ["techo", "pared", "camara"],
        "description": "Installation type"
      },
      "length_m": {
        "type": "number",
        "description": "Panel/roof length in meters"
      },
      "width_m": {
        "type": "number",
        "description": "Panel/roof width (span/luz) in meters"
      },
      "quantity_panels": {
        "type": "integer",
        "description": "Number of panels (if known; otherwise calculated from area)"
      }
    },
    "required": ["product_family", "thickness_mm", "usage", "length_m", "width_m"]
  }
}
